<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JS Dynamic Stylesheets</title>

    <link id="stylelink" rel="stylesheet" href="redstyles.css">

</head>
<body>
    <h1>JS Dynamic Stylesheets</h1>

    <!-- <button onclick="changeStylesheet()">Blue Theme</button> -->

    <select name="selstylesheet" id="selstylesheet" onchange="updateStylesheet()">
        <option value="redstyles.css">Red Theme</option>
        <option value="bluestyles.css">Blue Theme</option>
        <option value="greenstyles.css">Green Theme</option>
    </select>

    <script>            
        let selStylesheet = document.querySelector('#selstylesheet');
        let styleLink = document.querySelector('#stylelink');
            
        function updateStylesheet()
        {   
        // Test
        //alert(selStylesheet.value);
        stylelink.href = selStylesheet.value
        // Save to local storage 
        localStorage.setItem('style3253', selStylesheet.value);
        }

        window.addEventListener('load', function() {
            //alert("Welcome Back!");
            // Get local storage data
            let savedStylesheet; 
            savedStylesheet = localStorage.getItem('style3253');

            //alert(savedStylesheet);

            if(savedStylesheet !== null)
            {
                stylelink.href = savedStylesheet; // Update the link tag to the saved stylesheet
                selStylesheet.value = savedStylesheet; // Update the select dropdown
            }
        });
    </script>
</body>
</html>